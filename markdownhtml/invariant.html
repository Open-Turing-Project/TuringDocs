<h1>invariant</h1>

<h2>Syntax</h2>

<p>An <em>invariantAssertion</em> is:</p>

<p><strong>invariant</strong> <em>trueFalseExpn</em></p>

<h2>Description</h2>

<p>An <strong>invariant</strong> assertion is a special form of an <strong>assert</strong> statement that is used only in <strong>loop</strong> and <strong>for</strong> statements and in modules, monitors, and classes. It is used to make sure that a specific requirement is met. This requirement is given by the <em>trueFalseExpn</em>. The <em>trueFalseExpn</em> is evaluated. If it is true, all is well and execution continues. If it is false, execution is terminated with an appropriate message. See <strong>assert</strong>, <strong>loop</strong> and <strong>for</strong> statements and the <strong>module</strong> declarations for more details.</p>

<h2>Example</h2>

<p>This program uses an invariant in a <strong>for</strong> loop. The invariant uses the function <em>nameInList</em> to specify that a key has not yet been found in an array of names.</p>

<pre><code>    var name : array 1 .. 100 of string
    var key : string
    &#133; input name and key &#133;

    function nameInList ( n : int) : boolean
        for i : 1 .. n
            if key = name ( i ) then
                result true
            end if
        end for
        result false
    end nameInList

    for j : 1 .. 100
        invariant not nameInList ( j - 1)
        if key = name ( j) then
            put "Found name at ", j
            exit
        end if
    end loop
</code></pre>
