<h1>subprogramType</h1>

<h2>Syntax</h2>

<p>A <em>subprogramType</em> is:   <em>subprogramHeader</em></p>

<h2>Description</h2>

<p>A variable or constant can contain a reference to a subprogram. The type of the variable or constant is a <em>subprogramType</em>. See also <em>subprogramHeader</em>.</p>

<h2>Example</h2>

<p>In the following <em>t</em> is a subprogram type, and <em>u</em> is a variable of type <em>t</em> initialized to refer to procedure <em>rnd</em>.</p>

<pre><code>    procedure rnd ( var i : int, x : real)
        i := round ( x )
    end rnd

    type t : procedure q ( var j : int, y : real )
    var u : t := rnd    % Procedure variable u refers to rnd
    &#133;
    var j : int
    u ( j, 24.6 )       % Call procedure u referring to rnd
    &#133;
    var v := u      % Subprogram variable v initialized to u
</code></pre>

<h2>Details</h2>

<p>The name of the subprogram, for example <em>q</em>, and the parameters, for example <em>i</em> and <em>x</em>, have no meaning in a subprogram type. They are present only because of the form of subprogram headers.</p>

<p>If <em>v</em> is a variable or constant that refers to a subprogram, <em>v</em> can be called, compared for equality to other subprogram variables, assigned and passed as a parameter. Variable <em>v</em> is not an integer, string or pointer and cannot participate in their corresponding operations.</p>

<p>A reference to a subprogram, rather that the code of the subprogram, is contained in a variable <em>v</em> whose type is a subprogram type. This implies that <strong>addr</strong> (<em>v</em>) is the address of the reference to subprogram, rather than the address of the subprogram. The address of the code is given by #<em>v</em>. See <strong>cheat</strong> for an explanation of the # operator.</p>

<p>You cannot assign a reference to a subprogram exported from a class. This restriction exists because  these subprograms are meaningless without an accompanying reference to an object.</p>

<p>Many potential uses of subprogram variables are better programmed using classes and overriding exported subprograms. See <strong>class</strong>.</p>
