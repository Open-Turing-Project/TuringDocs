
<html>
<head>
	<meta charset='utf-8'>
	<title>function</title>
</head>
<body>
	<h1>function</h1>
	
		
		

			<h2>Syntax</h2>
			A <i>functionDeclaration</i> is:<p>
</p>
<table>
<tr valign="top">
<td width="40">&nbsp;</td>
<td colspan="8"><font size="+1"><b>function</b> <i>id </i>[ ( [<i>paramDeclaration </i>{, <i>paramDeclaration</i> } ] ) ]</font></td>
</tr>
<tr valign="top">
<td width="40">&nbsp;</td>
<td width="40">&nbsp;</td>
<td width="40">&nbsp;</td>
<td width="40">&nbsp;</td>
<td width="40">&nbsp;</td>
<td width="40">&nbsp;</td>
<td width="40">&nbsp;</td>
<td colspan="2"><font size="+1">: <i>typeSpec</i></font></td>
</tr>
<tr valign="top">
<td width="40">&nbsp;</td>
<td width="40">&nbsp;</td>
<td colspan="7"><font size="+1"><i>statementsAndDeclarations</i></font></td>
</tr>
<tr valign="top">
<td width="40">&nbsp;</td>
<td colspan="8"><font size="+1"><b>end</b> <i>id</i></font></td>
</tr>
</table>
<p></p>

			
			

			
			
		
	
		
		

			<h2>Description</h2>
			A function declaration creates (but does not run) a new function. The name of the function (<i>id</i>) is given in two places, just after <b>function</b> and just after <b>end</b>.<p>
</p>

			
			

			
			
		
	
		
		

			<h2>Example</h2>
			<p>
</p>

			
			
			<pre><code>        function doubleIt ( x : real ) : real
            result 2.0 * x
        end doubleIt
        
        put doubleIt ( 5.3 )        % This outputs 10.6</code></pre>
			

			
			
		
	
		
		

			<h2>Details</h2>
			The set of parameters declared with the function are called <i>formal</i> parameters. For example, in the <i>doubleIt</i> function, <i>x</i> is a formal parameter. A function is called (invoked) by a <i>function call </i>which consists of the function's name followed by the parenthesized list of <i>actual </i>parameters (if any). For example, <i>doubleIt </i>(5.3) is a call having 5.3 as an actual parameter. If there are no parameters and no parentheses, the call does not have parentheses. The keyword <b>function</b> can be abbreviated to <b>fcn</b>. See also <i>functionCall </i>and <i>procedureDeclaration</i>.<p>
Each actual non-<b>var</b> parameter must be assignable to the type of its corresponding formal parameter. See also <i>assignability</i>.</p>
<p>
A function must finish by executing a <b>result</b> statement, which produces the function's value. In the above example, the <b>result</b> statement computes and returns the value 2.0 * <i>x</i>.</p>
<p>
In principle, a function (1) should not change any variables outside of itself (global variables) or (2) should not have <b>var</b> parameters. In other words, it should have no <i>side effects</i>. The original implementation prevented (1) and (2) and thereby prevented function side effects. Current implementations of Turing do not enforce this restriction.</p>
<p>
The upper bounds of arrays and strings that are parameters may be declared to be an asterisk (<b>*</b>), meaning the bound is that of the actual parameter. See <i>paramDeclaration</i> for details about parameters.</p>
<p>
Procedures and functions cannot be declared inside other procedures and functions.</p>
<p>
The syntax of a <i>functionDeclaration</i> presented above has been simplified by leaving out the optional result identifier, <b>import</b> list, <b>pre</b> condition, <b>init</b> clause, <b>post</b> condition and exception handler. The full syntax<i> </i>is</p>
<p>
</p>
The <i>resultId</i> is the name of the result of the function and can be used only in the <b>post</b> condition.<p>
A function must be declared before being called; to allow for mutually recursive procedures and functions, there are <b>forward</b> declarations with later declaration of the procedure or function <b>body</b>. See <b>forward</b> and <b>body</b> declarations for explanations.</p>
<p>
You declare parameterless functions using an empty parameter list. When this is done, a call to the function must include an empty parameter list.</p>
<p>
</p>

			
			
			<pre><code>        function [ pervasive ] id
            [ ( [ paramDeclaration {,paramDeclaration } ] ) ] 
                [ resultId ] : typeSpec
            [ pre trueFalseExpn ]
            [ init id := expn {, id := expn } ]
            [ post trueFalseExpn ]
            [ exceptionHandler ]
            statementsAndDeclarations
        end id</code></pre>
			

			
			
		
	
		
		

			<h2>See also</h2>
			<b><a href="import.html">import</a></b> list, <b><a href="pre.html">pre</a></b> <a href="condition.html">condition</a>, <b><a href="init.html">init</a></b> clause, <b><a href="post.html">post</a></b> <a href="condition.html">condition</a> and <i>exceptionHandler</i> for explanations of these additional features.<p>
See also <b><a href="pervasive.html">pervasive</a></b>. </p>
<p>
</p>

			
			

			
			
		
	
</body>
</html>
