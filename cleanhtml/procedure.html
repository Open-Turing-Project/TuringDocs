
<html>
<head>
	<title>procedure</title>
</head>
<body>
	<h1>procedure</h1>
	
		
		

			<h2>Syntax</h2>
			A <i>procedureDeclaration</i> is:<p>
</p>
<table>
<tr valign="top">
<td width="40">&nbsp;</td>
<td colspan="8"><font size="+1"><b>procedure</b> <i>id</i> [(<i>paramDeclaration</i> {, <i>paramDeclaration</i> })]</font></td>
</tr>
<tr valign="top">
<td width="40">&nbsp;</td>
<td width="40">&nbsp;</td>
<td colspan="7"><font size="+1"><i>statementsAndDeclarations</i></font></td>
</tr>
<tr valign="top">
<td width="40">&nbsp;</td>
<td colspan="8"><font size="+1"><b>end</b> <i>id</i></font></td>
</tr>
</table>
<p></p>

			
			

			
			
		
	
		
		

			<h2>Description</h2>
			A procedure declaration creates (but does not run) a new procedure. The name of the procedure (<i>id</i>) is given in two places, just after <b>procedure</b> and just after <b>end</b>.<p>
</p>

			
			

			
			
		
	
		
		

			<h2>Example</h2>
			<p>
</p>

			
			
			<pre><code>        procedure greetings
            put "Hello world"
        end greetings
        
        greetings           % This outputs Hello world
        
        procedure sayItAgain ( msg : string, n : int )
            for i : 1 .. n
                put msg
            end for
        end sayItAgain
        
        sayItAgain ("Toot", 2 ) % Toot is output twice
        
        procedure double ( var x : real )
            x := 2 * x
        end double
        
        var y : real := 3.14
        double ( y )        % This doubles the value of y</code></pre>
			

			
			
		
	
		
		

			<h2>Details</h2>
			The set of parameters declared with the procedure are called <i>formal</i> parameters. In the <i>double </i>procedure, for example, <i>x </i>is a formal parameter. A procedure is called (invoked) by a procedure<i> call statement</i> which consists of the procedure's name followed by the parenthesized list of <i>actual </i>parameters (if any). For example, <i>double</i>(<i>y</i>) is a call having <i>y</i> as an actual parameter. If there are no parameters (see the <i>greet</i> procedure above), the call does not have parentheses. The keyword <b>procedure</b> can be abbreviated to <b>proc</b>.<p>
Ordinarily, a procedure <i>returns </i>(finishes and goes back to the place where it was called) by reaching its <b>end</b>. However, the <b>return</b> statement in a procedure causes it to return immediately. Note that <b>return</b> can also be used in the main program to cause it to halt immediately.</p>
<p>
Only parameters declared using <b>var</b> may be changed in the procedure, for example, <i>x</i> is changed in the <i>double</i> procedure. The upper bounds of arrays and strings that are parameters may be declared to be an asterisk (<b>*</b>). This means that the bound is that of the actual parameter. See <i>paramDeclaration</i> for details about parameters.</p>
<p>
Procedures and functions cannot be declared inside other procedures and functions.</p>
<p>
The syntax of a <i>procedureDeclaration</i> presented above has been simplified by leaving out the optional <b>import</b> list, <b>pre</b> condition, <b>init</b> clause, <b>post</b> condition and exception handler. The full syntax<i> </i>is</p>
<p>
</p>
A procedure must be declared before being called. To allow for mutually recursive procedures, there are <b>forward</b> declarations of procedures with later declaration of each procedure <b>body</b>. See <b>forward</b> and <b>body</b> declarations for explanations.<p>
</p>

			
			
			<pre><code>        procedure [ pervasive ] id
            [ ( [ paramDeclaration {,paramDeclaration } ] ) ]
            [ : deviceSpecification ]
            [ pre trueFalseExpn ]
            [ init id := expn {, id := expn } ]
            [ post trueFalseExpn ]
            [ exceptionHandler ]
            statementsAndDeclarations
        end id</code></pre>
			

			
			
		
	
		
		

			<h2>See also</h2>
			<b><a href="import.html">import</a></b> list, <b><a href="pre.html">pre</a></b> <a href="condition.html">condition</a>, <b><a href="init.html">init</a></b> clause, <b><a href="post.html">post</a></b> <a href="condition.html">condition</a> and <i>exceptionHandler</i> for explanations of these features. See <b><a href="pervasive.html">pervasive</a></b> for information on <b><a href="pervasive.html">pervasive</a></b> procedures. See <b>exceptionHandler</b>. The optional <i>deviceSpecification </i>is used only in procedures declared in monitors and is used to create an <i>interrupt handling <a href="">procedure</a></i>. See <b><a href="monitor.html">monitor</a></b> for details.<p>
</p>

			
			

			
			
		
	
</body>
</html>
