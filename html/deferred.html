<html>
<head><title>deferred</title></head>
<body>
<table width="100%"><tr valign="top"><td align="left"><font size="+2"><b>deferred</b></font></td><td align="right"><font size="+1"><b>subprogram declaration</b></font></td></table><p>
<table><tr valign="top"><td><b>Syntax&nbsp;&nbsp;</b></td>
<td> A deferredDeclaration is:<p>
<table><tr valign="top"><td width="40">&nbsp;</td><td colspan="8"><font size="+1"><b>deferred</b> subprogramHeader</td></tr>
</table><p><tr valign="top"><td><b>Description&nbsp;&nbsp;</b></td>
<td> A procedure or function is declared to be <b>deferred</b> when you want to be able to override the subprogram in an expansion. The procedure or function must be in a module, monitor or class.<p>
<tr valign="top"><td><b>Example&nbsp;&nbsp;</b></td>
<td> The <i>display</i> procedure is deferred in this class of stacks to allow various ways of graphically displaying the stack on the screen:<p>
<pre><tt>        <b>class</b> <i>stack</i>
            <b>export</b> <i>push</i>, <i>pop</i>
            <i>… local declarations …</i>
            <i>… declarations of the push and pop procedures …</i>
            <b>deferred</b><i> </i><b>procedure</b><i> display</i> (<i>howbig</i> : <b>int</b>)
        <b>end</b> <i>stack</i></tt></pre>
An expansion to the <i>stack</i> class can give a body for <i>display</i>, as in:<p>
<pre><tt>        <b>class</b> <i>stackWithSimpleDisplay</i>
            <b>body</b> <b>procedure</b> <i>display</i>      <i>% (howbig : int)</i>
                   <i>… graphically display the stack on the screen …</i>
            <b>end</b> <i>display</i>
        <b>end</b> <i>stackWithSimpleDisplay</i></tt></pre>
The following creates a stack that can be displayed and displays it:<p>
<pre><tt>        <b>var</b> <i>p</i> : <i>^stackWithSimpleDisplay</i>
        <b>new</b> <i>p</i>
        …
        <i>p</i> -&gt; <i>display</i> (25)       <i>% Display the stack on the screen</i></tt></pre>
<tr valign="top"><td><b>Details&nbsp;&nbsp;</b></td>
<td> A deferred procedure is <i>resolved</i> by giving its body. This can be done in the scope (<b>module</b>, <b>monitor</b> or <b>class</b>) containing the <b>deferred</b> declaration (following the <b>deferred</b> declaration) or in any expansion of that scope. Only one resolution per scope is allowed. Unresolved subprograms can be called, but they immediately abort.<p>
All exported subprograms are implicitly deferred and can be overridden in expansions. <p>
During initialization of a <b>module</b>, <b>monitor</b> or <b>object</b> of a <b>class</b>, deferred subprograms (including exported subprograms) cannot be called. This restriction prevents accessing an object before it is fully initialized.<p>
A <b>deferred</b> declaration must not appear in the main program.<p>
<tr valign="top"><td><b>See also&nbsp;&nbsp;</b></td>
<td> <b><a href="module.html">module</a></b>, <b><a href="monitor.html">monitor</a></b> and <b><a href="class.html">class</a></b>. See also <b><a href="export.html">export</a></b> list, <b><a href="import.html">import</a></b> list, <b><a href="inherit.html">inherit</a></b> list, <b><a href="implement.html">implement</a></b> list and <b><a href="implement_by.html">implement by</a></b> list.<p>
</table></body>
</html>
